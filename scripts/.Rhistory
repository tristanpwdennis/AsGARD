align = 'c',
background = cols_table,
color = 'white')
# Generate the table
counted_df %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white") %>%  # White background for 'Country'
save_kable(file = '~/Projects/AsGARD/figures/poptable.png', zoom = 10)
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
# Define colors
cols_table <- c('#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
# Generate the table
counted_df %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white") %>%  # White background for 'Country'
save_kable(file = '~/Projects/AsGARD/figures/poptable.png', zoom = 10)
# Generate the table
counted_df %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
counted_df <- df_samples %>%
group_by(country,pop_code ) %>%
count()
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
# Define colors
cols_table <- c('#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
# Generate the table
counted_df %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
# Generate the table
counted_df %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
counted_df <- df_samples %>%
group_by(country,pop_code ) %>%
count()
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
# Generate the table
counted_df %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Generate the table
counted_df %>%
arrange(Pop. Code) %>%
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
counted_df$Country <- as.factor(counted_df$Country, levels='Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia')
counted_df$Country <- factor(counted_df$Country, levels='Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia')
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
counted_df$Country
counted_df$Country <- factor(counted_df$Country, levels='Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia')
counted_df$Country <- factor(counted_df$Country, levels='Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia')
counted_df$Country <- as.factor(counted_df$Country, levels='Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia')
counted_df <- df_samples %>%
group_by(country,pop_code ) %>%
count()
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
counted_df$Country <- actor(counted_df$Country, levels='Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia')
counted_df$Country <- factor(counted_df$Country, levels='Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia')
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Define colors
cols_table <- c('#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
sampdf <- df_samples %>%
dplyr::select(country, location, pop_code, latitude, longitude) %>%
unique()
counted_df <- df_samples %>%
group_by(country,pop_code ) %>%
count()
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
# Apply cell_spec only to the 'Pop. Code' column
counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
align = 'c',
background = cols_table,
color = 'white')
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Generate the table
counted_df %>%
arrange(`Pop. Code`) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm") %>%  # Adjust column widths
column_spec(2, width = "2cm", background = "white")  # White background for 'Country'
# Generate the table
counted_df %>%
arrange(`Pop. Code`) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm", background=cols_table)  # White background for 'Country'
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
arrange(`Pop. Code`) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
counted_df$`Pop Code Coloured` <- mapply(function(val, color) {
cell_spec(val, background = color)
}, counted_df$`Pop. Code`, cols_table)
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
counted_df <- counted_df[order(counted_df$Country), ]
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
counted_df$`Pop Code Coloured` <- mapply(function(val, color) {
cell_spec(val, background = color)
}, counted_df$`Pop. Code`, cols_table)
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
sampdf <- df_samples %>%
dplyr::select(country, location, pop_code, latitude, longitude) %>%
unique()
counted_df <- df_samples %>%
group_by(country,pop_code ) %>%
count()
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
counted_df <- counted_df[order(counted_df$Country), ]
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
counted_df$`Pop Code Coloured` <- mapply(function(val, color) {
cell_spec(val, background = color)
}, counted_df$`Pop. Code`, cols_table)
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
counted_df$`Pop Code` <- mapply(function(val, color) {
cell_spec(val, background = color)
}, counted_df$`Pop. Code`, cols_table)
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
sampdf <- df_samples %>%
dplyr::select(country, location, pop_code, latitude, longitude) %>%
unique()
counted_df <- df_samples %>%
group_by(country,pop_code ) %>%
count()
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
counted_df <- counted_df[order(counted_df$Country), ]
# Define colors
cols_table <- c('#ff7f00','#ff7f00', '#96172e', '#f03e5e', '#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722', '#c27a88',
'#6a3d9a', '#cab2d6')
counted_df$`Pop Code` <- mapply(function(val, color) {
cell_spec(val, background = color)
}, counted_df$`Pop. Code`, cols_table)
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
counted_df$`Pop. Code` <- mapply(function(val, color) {
cell_spec(val, background = color)
}, counted_df$`Pop. Code`, cols_table)
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
sampdf <- df_samples %>%
dplyr::select(country, location, pop_code, latitude, longitude) %>%
unique()
counted_df <- df_samples %>%
group_by(country,pop_code ) %>%
count()
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
counted_df$Country <- factor(counted_df$Country, levels=c('Afghanistan','Pakistan','India','Djibouti','Ethiopia','Sudan','Yemen','Iran','SaudiArabia'))
# Define colnames and do some ordering for the table
colnames(counted_df) <- c('Country','Pop. Code', 'No. Samples')
countries_ordered <- c('India','Pakistan','Afghanistan','Iran','SaudiArabia','Yemen','Djibouti','Sudan','Ethiopia')
counted_df$Country <- factor(counted_df$Country, levels=countries_ordered)
counted_df <- counted_df[order(counted_df$Country), ]
# Define colors
cols_table <- c('#96172e', '#f03e5e','#ff7f00','#ff7f00', '#c27a88',
'#6a3d9a', '#cab2d6','#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722')
countries_ordered <- c('India','Pakistan','Afghanistan','Iran','SaudiArabia','Yemen','Djibouti','Sudan','Ethiopia')
counted_df$Country <- factor(counted_df$Country, levels=countries_ordered)
counted_df <- counted_df[order(counted_df$Country), ]
# Define colors
cols_table <- c('#96172e', '#f03e5e','#ff7f00','#ff7f00', '#c27a88',
'#6a3d9a', '#cab2d6','#507d2a', '#007272',
'#33a02c', '#a6cee3', '#fccf86', '#CC7722')
counted_df$`Pop. Code` <- mapply(function(val, color) {
cell_spec(val, background = color)
}, counted_df$`Pop. Code`, cols_table)
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
save_kable(file = '~/Projects/AsGARD/figures/poptable.png', zoom = 10)
counted_df %>%
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm")  # White background for 'Country'
# Apply cell_spec only to the 'Pop. Code' column
#counted_df$`Pop. Code` <- cell_spec(counted_df$`Pop. Code`,
#                                    align = 'c',
#                                    background = cols_table,
#                                    color = 'white')
# Generate the table
counted_df %>%
#arrange(Country) %>%
kbl(escape = FALSE) %>%
collapse_rows(columns = 1, valign = "top") %>%
kable_styling(full_width = FALSE) %>%
column_spec(1, width = "2cm", background = "white") %>%  # Adjust column widths
column_spec(2, width = "2cm") %>%  # White background for 'Country'
save_kable(file = '~/Projects/AsGARD/figures/poptable.png', zoom = 10)
